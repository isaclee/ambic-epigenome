Building DAG of jobs...
Using shell: /bin/bash
Provided cores: 16
Rules claiming more threads will be scaled down.
Job counts:
	count	jobs
	4	call_cpg
	4	mbed_to_mfreq
	4	mtsv_to_mbed
	4	nanopolish_index
	1	parse_nanopore
	17

[Sun Mar 10 11:07:16 2019]
rule nanopolish_index:
    input: data/nanopore/reads/CHOZNUnstableNoglnDay0rep2.fastq.gz
    output: data/nanopore/reads/CHOZNUnstableNoglnDay0rep2.fastq.gz.index.readdb
    jobid: 16
    wildcards: pre=data/nanopore/reads/CHOZNUnstableNoglnDay0rep2


[Sun Mar 10 11:07:16 2019]
rule nanopolish_index:
    input: data/nanopore/reads/CHOZNStableNoglnDay0rep2.fastq.gz
    output: data/nanopore/reads/CHOZNStableNoglnDay0rep2.fastq.gz.index.readdb
    jobid: 14
    wildcards: pre=data/nanopore/reads/CHOZNStableNoglnDay0rep2


[Sun Mar 10 11:07:16 2019]
rule nanopolish_index:
    input: data/nanopore/reads/CHOZNUnstableNoglnDay0rep3.fastq.gz
    output: data/nanopore/reads/CHOZNUnstableNoglnDay0rep3.fastq.gz.index.readdb
    jobid: 18
    wildcards: pre=data/nanopore/reads/CHOZNUnstableNoglnDay0rep3


[Sun Mar 10 11:07:16 2019]
rule nanopolish_index:
    input: data/nanopore/reads/CHOZNStableNoglnDay0rep3.fastq.gz
    output: data/nanopore/reads/CHOZNStableNoglnDay0rep3.fastq.gz.index.readdb
    jobid: 19
    wildcards: pre=data/nanopore/reads/CHOZNStableNoglnDay0rep3

[Sun Mar 10 11:07:23 2019]
Finished job 14.
1 of 17 steps (6%) done
[Sun Mar 10 11:07:28 2019]
Finished job 16.
2 of 17 steps (12%) done
[Sun Mar 10 11:07:31 2019]
Finished job 18.
3 of 17 steps (18%) done
[Sun Mar 10 11:07:32 2019]
Finished job 19.
4 of 17 steps (24%) done

[Sun Mar 10 11:07:32 2019]
rule call_cpg:
    input: data/nanopore/reads/CHOZNStableNoglnDay0rep3.fastq.gz, data/nanopore/bam/CHOZNStableNoglnDay0rep3.sorted.bam, data/nanopore/reads/CHOZNStableNoglnDay0rep3.fastq.gz.index.readdb
    output: data/nanopore/mcall/CHOZNStableNoglnDay0rep3.cpg.meth.tsv.gz
    jobid: 12
    wildcards: dir=data/nanopore, sample=CHOZNStableNoglnDay0rep3
    threads: 16

[Sun Mar 10 11:11:15 2019]
Finished job 12.
5 of 17 steps (29%) done

[Sun Mar 10 11:11:15 2019]
rule call_cpg:
    input: data/nanopore/reads/CHOZNUnstableNoglnDay0rep3.fastq.gz, data/nanopore/bam/CHOZNUnstableNoglnDay0rep3.sorted.bam, data/nanopore/reads/CHOZNUnstableNoglnDay0rep3.fastq.gz.index.readdb
    output: data/nanopore/mcall/CHOZNUnstableNoglnDay0rep3.cpg.meth.tsv.gz
    jobid: 11
    wildcards: dir=data/nanopore, sample=CHOZNUnstableNoglnDay0rep3
    threads: 16

[Sun Mar 10 11:14:37 2019]
Finished job 11.
6 of 17 steps (35%) done

[Sun Mar 10 11:14:37 2019]
rule call_cpg:
    input: data/nanopore/reads/CHOZNUnstableNoglnDay0rep2.fastq.gz, data/nanopore/bam/CHOZNUnstableNoglnDay0rep2.sorted.bam, data/nanopore/reads/CHOZNUnstableNoglnDay0rep2.fastq.gz.index.readdb
    output: data/nanopore/mcall/CHOZNUnstableNoglnDay0rep2.cpg.meth.tsv.gz
    jobid: 10
    wildcards: dir=data/nanopore, sample=CHOZNUnstableNoglnDay0rep2
    threads: 16

[Sun Mar 10 11:17:18 2019]
Finished job 10.
7 of 17 steps (41%) done

[Sun Mar 10 11:17:18 2019]
rule call_cpg:
    input: data/nanopore/reads/CHOZNStableNoglnDay0rep2.fastq.gz, data/nanopore/bam/CHOZNStableNoglnDay0rep2.sorted.bam, data/nanopore/reads/CHOZNStableNoglnDay0rep2.fastq.gz.index.readdb
    output: data/nanopore/mcall/CHOZNStableNoglnDay0rep2.cpg.meth.tsv.gz
    jobid: 9
    wildcards: dir=data/nanopore, sample=CHOZNStableNoglnDay0rep2
    threads: 16

[Sun Mar 10 11:19:20 2019]
Finished job 9.
8 of 17 steps (47%) done

[Sun Mar 10 11:19:20 2019]
rule mtsv_to_mbed:
    input: data/nanopore/mcall/CHOZNUnstableNoglnDay0rep2.cpg.meth.tsv.gz
    output: data/nanopore/mbed/CHOZNUnstableNoglnDay0rep2.cpg.meth.bed.gz
    jobid: 6
    wildcards: dir=data/nanopore, sample=CHOZNUnstableNoglnDay0rep2


[Sun Mar 10 11:19:20 2019]
rule mtsv_to_mbed:
    input: data/nanopore/mcall/CHOZNStableNoglnDay0rep2.cpg.meth.tsv.gz
    output: data/nanopore/mbed/CHOZNStableNoglnDay0rep2.cpg.meth.bed.gz
    jobid: 5
    wildcards: dir=data/nanopore, sample=CHOZNStableNoglnDay0rep2


[Sun Mar 10 11:19:20 2019]
rule mtsv_to_mbed:
    input: data/nanopore/mcall/CHOZNUnstableNoglnDay0rep3.cpg.meth.tsv.gz
    output: data/nanopore/mbed/CHOZNUnstableNoglnDay0rep3.cpg.meth.bed.gz
    jobid: 7
    wildcards: dir=data/nanopore, sample=CHOZNUnstableNoglnDay0rep3


[Sun Mar 10 11:19:20 2019]
rule mtsv_to_mbed:
    input: data/nanopore/mcall/CHOZNStableNoglnDay0rep3.cpg.meth.tsv.gz
    output: data/nanopore/mbed/CHOZNStableNoglnDay0rep3.cpg.meth.bed.gz
    jobid: 8
    wildcards: dir=data/nanopore, sample=CHOZNStableNoglnDay0rep3

[Sun Mar 10 11:19:20 2019]
[Sun Mar 10 11:19:20 2019]
Error in rule mtsv_to_mbed:
Error in rule mtsv_to_mbed:
[Sun Mar 10 11:19:20 2019]
[Sun Mar 10 11:19:20 2019]
    jobid: 7
    jobid: 6
Error in rule mtsv_to_mbed:
Error in rule mtsv_to_mbed:
    output: data/nanopore/mbed/CHOZNUnstableNoglnDay0rep3.cpg.meth.bed.gz
    output: data/nanopore/mbed/CHOZNUnstableNoglnDay0rep2.cpg.meth.bed.gz
    jobid: 8
    jobid: 5


    output: data/nanopore/mbed/CHOZNStableNoglnDay0rep3.cpg.meth.bed.gz
    output: data/nanopore/mbed/CHOZNStableNoglnDay0rep2.cpg.meth.bed.gz


RuleException:
CalledProcessError in line 59 of /home/isac/Code/projects/ambic-epigenome/snakemake/nanopore_data_parse.smk:
Command ' set -euo pipefail;  gunzip -c data/nanopore/mcall/CHOZNUnstableNoglnDay0rep2.cpg.meth.tsv.gz | python /home/isac/Code/projects/ambic-epigenome/scripts/mtsv2bedGraph.py | sort -T tmp -k1,1 -k2,2n | bgzip > data/nanopore/mbed/CHOZNUnstableNoglnDay0rep2.cpg.meth.bed.gz && tabix -p bed data/nanopore/mbed/CHOZNUnstableNoglnDay0rep2.cpg.meth.bed.gz ' returned non-zero exit status 2.
  File "/home/isac/Code/projects/ambic-epigenome/snakemake/nanopore_data_parse.smk", line 59, in __rule_mtsv_to_mbed
  File "/home/isac/.conda/envs/isacenv/lib/python3.6/concurrent/futures/thread.py", line 56, in run
RuleException:
CalledProcessError in line 59 of /home/isac/Code/projects/ambic-epigenome/snakemake/nanopore_data_parse.smk:
Command ' set -euo pipefail;  gunzip -c data/nanopore/mcall/CHOZNStableNoglnDay0rep3.cpg.meth.tsv.gz | python /home/isac/Code/projects/ambic-epigenome/scripts/mtsv2bedGraph.py | sort -T tmp -k1,1 -k2,2n | bgzip > data/nanopore/mbed/CHOZNStableNoglnDay0rep3.cpg.meth.bed.gz && tabix -p bed data/nanopore/mbed/CHOZNStableNoglnDay0rep3.cpg.meth.bed.gz ' returned non-zero exit status 2.
  File "/home/isac/Code/projects/ambic-epigenome/snakemake/nanopore_data_parse.smk", line 59, in __rule_mtsv_to_mbed
  File "/home/isac/.conda/envs/isacenv/lib/python3.6/concurrent/futures/thread.py", line 56, in run
RuleException:
CalledProcessError in line 59 of /home/isac/Code/projects/ambic-epigenome/snakemake/nanopore_data_parse.smk:
Command ' set -euo pipefail;  gunzip -c data/nanopore/mcall/CHOZNUnstableNoglnDay0rep3.cpg.meth.tsv.gz | python /home/isac/Code/projects/ambic-epigenome/scripts/mtsv2bedGraph.py | sort -T tmp -k1,1 -k2,2n | bgzip > data/nanopore/mbed/CHOZNUnstableNoglnDay0rep3.cpg.meth.bed.gz && tabix -p bed data/nanopore/mbed/CHOZNUnstableNoglnDay0rep3.cpg.meth.bed.gz ' returned non-zero exit status 2.
  File "/home/isac/Code/projects/ambic-epigenome/snakemake/nanopore_data_parse.smk", line 59, in __rule_mtsv_to_mbed
  File "/home/isac/.conda/envs/isacenv/lib/python3.6/concurrent/futures/thread.py", line 56, in run
RuleException:
CalledProcessError in line 59 of /home/isac/Code/projects/ambic-epigenome/snakemake/nanopore_data_parse.smk:
Command ' set -euo pipefail;  gunzip -c data/nanopore/mcall/CHOZNStableNoglnDay0rep2.cpg.meth.tsv.gz | python /home/isac/Code/projects/ambic-epigenome/scripts/mtsv2bedGraph.py | sort -T tmp -k1,1 -k2,2n | bgzip > data/nanopore/mbed/CHOZNStableNoglnDay0rep2.cpg.meth.bed.gz && tabix -p bed data/nanopore/mbed/CHOZNStableNoglnDay0rep2.cpg.meth.bed.gz ' returned non-zero exit status 2.
  File "/home/isac/Code/projects/ambic-epigenome/snakemake/nanopore_data_parse.smk", line 59, in __rule_mtsv_to_mbed
  File "/home/isac/.conda/envs/isacenv/lib/python3.6/concurrent/futures/thread.py", line 56, in run
Removing output files of failed job mtsv_to_mbed since they might be corrupted:
data/nanopore/mbed/CHOZNUnstableNoglnDay0rep2.cpg.meth.bed.gz
Removing output files of failed job mtsv_to_mbed since they might be corrupted:
data/nanopore/mbed/CHOZNStableNoglnDay0rep3.cpg.meth.bed.gz
Removing output files of failed job mtsv_to_mbed since they might be corrupted:
data/nanopore/mbed/CHOZNUnstableNoglnDay0rep3.cpg.meth.bed.gz
Removing output files of failed job mtsv_to_mbed since they might be corrupted:
data/nanopore/mbed/CHOZNStableNoglnDay0rep2.cpg.meth.bed.gz
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: /home/isac/Code/projects/ambic-epigenome/.snakemake/log/2019-03-10T110716.366893.snakemake.log
